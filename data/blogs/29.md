<!--
 * @Date: 2021-12-14 10:59:08
 * @LastEditors: lzj
 * @LastEditTime: 2021-12-14 17:27:09
 * @FilePath: \qianduan.shop\data\blogs\29.md
-->
# Doris 部署，启动 FE 报错：java.io.IOException: the self host 172.31.26.7 does not equal to the host in ROLE file 172.17.0.1. You need to set 'priority_networks' config in fe.conf to match the host 172.17.0.1

报错信息如下：

```
java.io.IOException: the self host 172.31.26.7 does not equal to the host in ROLE file 172.17.0.1. You need to set 'priority_networks' config in fe.conf to match the host 172.17.0.1
	at org.apache.doris.catalog.Catalog.getClusterIdAndRole(Catalog.java:903)
	at org.apache.doris.catalog.Catalog.initialize(Catalog.java:805)
	at org.apache.doris.PaloFe.start(PaloFe.java:125)
	at org.apache.doris.PaloFe.main(PaloFe.java:63)

```

## 尝试解决

① 修改 fe.conf 中的 priority_networks 配置绑定内网IP,重启也不起作用。 

② 由于编译的代码是用 docker 开发镜像编译的，从 docker 内部复制到磁盘上直接进行的部署，怀疑是 docker 编译的代码会带一些docker的东西，所以尝试直接编译，部署后成功运行。

直接编译参考问题记录参考：<a href="https://qianduan.shop/blogs/detail/30" target="_blank" rel="nofollow"> Doris 直接编译问题记录</a>

## 总结
docker 编译的话建议就docker部署，不用 docker 部署的话就使用直接编译后的代码部署。