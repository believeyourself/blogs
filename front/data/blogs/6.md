# Mobile Adaptation Solutions
  Before reading, we hope you have some understanding of the basic concepts, such as hardware concepts: screen size, screen resolution, device pixels, pixel density; system concepts: display resolution, device independent pixels, logical resolution; browser concepts: device pixel ratio, viewport. If you do not understand these basic concepts, you can first read: [Mobile adaptation basic concepts](https://juejin.cn/post/6959047144065990663)  
  
## 1. Media queries, responsive layout
  css provides @media media query to set different styles, according to different flat layout different styles, so as to achieve the purpose of different screen adaptations.  

### Load different style files for different screens
```
<link media="(max-width: 600px)" href=". /path/mobile.css" rel="stylesheet" />
<link media="(min-width: 980px)" href=". /path/pc.css" rel="stylesheet"/>
```  

### Media queries in CSS style sheets
```
@media screen and (max-width:1024px){
  div{
    font-size: 64px;
  }
}
@media screen and (max-width: 400px){
  div{
    font-size: 58px;
  }
}
```  

Media query syntax rules and more examples refer to: https://www.runoob.com/cssref/css3-pr-mediaquery.html  


## 2. Dynamic rem
rem is a relative length unit in css, and its size is determined by the font size of the root element (html).  

For different screens, we can dynamically modify the font size of the root element, and the size of the elements in the page will also change in the same proportion, so as to achieve the adaptation effect.  

In actual development, we can use tools to help us convert px to rem, such as [postcss-px2rem](https://www.npmjs.com/package/postcss-px2rem), so that we can write px directly according to the design.

Of course, the layout using rem problem has been solved, so how to achieve the text font size adaptation? Is it also with rem? The answer is NO!,** text font size is not recommended to use rem**.
For example: we want to see the same text size under the Retina screen of iPhone3G and iPhone4. In other words, we don't want the text to be smaller under Retina screen, besides, we want to see more text on the big screen phone, and, nowadays, most of the font files come with some dot sizes, usually 16px and 24px, so we don't want to have odd sizes like 13px and 15px. In this way, it is decided that rem is not suitable for paragraph text in the production of H5 pages.

**Summary**
1. meta tags set the viewport width to the screen width.
2. modify the font-size of the root element (html) for different screens, usually set it to one-tenth of the screen width (introduce the lib-flexible library or write your own logic).
3. configure the development environment with postcss-px2rem or similar plugins.
4. write the style according to the design, and take the width and height of the element directly from the design, in px, which will be converted to rem by the plugin.
5. paragraph text is also written in accordance with the design, the unit is px, no need to convert to rem.


# # 3. viewport units: vw, vh, vmin, vmax
The viewport units are: vw, vh, vmin and vmax. vw unit indicates the percentage of the width of the root element, 1vw is equal to 1% of the viewport width.

### The flow of vw adaptation scheme.

1. the meta tag sets the viewport width to the screen width.
2. development environment configured with postcss-px-to-viewport or similar plugin.
3. according to the design to write the style, element width and height directly from the design width and height, the unit is px, the plug-in will be converted to vw.
4. paragraph text is also written in accordance with the design, the unit is px, no need to convert to vw.

## 4. Fixed viewport width, the overall scaling of the page
```
<meta name="viewport" content="width=device-width, user-scalable=no" />
```

This solution is actually equivalent to scaling the page as a whole. It is essentially a linear scaling of the page to fit different screen sizes. This scheme is fine for devices within a certain size range. This solution is simple and convenient, but not very suitable if you want to develop an interface that spans both tablets and phones. Because the difference between mobile and tablet screen sizes is too large, it will result in too much scaling and interface elements appearing less harmonious. This solution is suitable for some simple activity pages, or pages that do not require high page adaptation.

