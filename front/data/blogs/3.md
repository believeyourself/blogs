# umi practice problem set

Development Environment.
umi: 3.5.18
node: v14.15.1
System: windows

This article mainly records some scenario-specific issues during the project practice, for reference only: ## 1.

## 1. webpackChain custom loader error: this.getOptions is not a function

** Scenario:**
    Add loader to parse makdown file to html display, use webpackChain to add remark-loader,html-loader to report error.
```
export default {
    ...
    chainWebpack(config){
        config.module
        .rule('compile-md')
        .test(/\.md$/)
            .use("html-loader")
            .loader("html-loader")
            .end()
            .use("markdown-loader")
    }
    ...
}
  
```
**Solution:**
    Just close the webpack5 editor and modify the umi configuration config.js or .umirc.js to.
```
export default {
    ...
    webpack5:false,
    ...
}
```

## 2. mfsu, @umijs/preset-ui(block) are not supported under SSR(server-side rendering)

## 3. SSR (server-side rendering) after the first request, click on the navigation menu, the route switch occurs to jump to a new page did not launch a request to the server to get a new page, but a locally done page re-rendering.
**Solution:**
Replace the NavLink component with a tag

## 4. SSR (Server Side Rendering) requests server Css and js files and returns html content.
**Solution:**
If you configure hash:true, turn off the hash function of the packaged file, because umi.server.js does not add hash to the reference address of js and css, for example, your packaged file name is umi.adsjsnd.css, but the reference file name of umi.server.js to css is umi.css, Modify the configuration config.js or .umirc.js to
```
export default {
    ...
    hash:false
    ...
}
```
 If hash:true is not configured, refer to this issues:https://github.com/umijs/umi/issues/4808

 ## 5. Enable mfsu:{} error: 1. Can't read property 'ModuleFederationPlugin' of undefined.
 **Solution:**
 Please make sure mfsu:{} is added to config.ts instead of config.dev.ts or config.prod.ts.