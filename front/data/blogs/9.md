# Prototypes and prototype chains, inheritance

## Prototype.

Each function function has a prototype attribute pointing to an object, which is the prototype object. Each instance object created by the constructor inherits this prototype object and contains the __proto__ attribute pointing to the prototype object.

## Prototype chain.

Each object will contain a prototype object, and a prototype object is also an object, so it will also contain a prototype, so the chain association formed is the prototype chain.

The principle of instanceof
The main implementation principle of instanceof is that as long as the prototype of the right variable is in the prototype chain of the left variable

```
function instanceOf(left,right){
    let rightPrototype = right.prototype;
    let leftPrototype = left.__proto__;
    while(leftPrototype){
        if(leftPrototype === rightPrototype){
            return true;        
        }
        leftPrototype = leftPrototype.__proto__;
    }
    
    return false;
}
```

## Inheritance.
### 1. Prototype chain inheritance

```
function A(){};
function B(){};
B.prototype = new A();//prototype inheritance, the properties on the prototype are shared by all instances, and the reference type properties are also shared
B.prototype.constructor = B;
```


### 2. Borrowing constructor (classical inheritance)

```
function A(){};
function B(){
    A.call(this);//borrow constructor inheritance, not inherit A's prototype
};
```

### 3. Combined inheritance (prototype chain inheritance + borrowed constructor inheritance)

```
function A(){};
function B(){
    A.call(this);//borrowed constructor inheritance, not inherit the prototype, the first call to A's constructor
};
B.prototype = new A();//prototype inheritance, the second call to the constructor of A, A function of the non-prototype properties to retain two copies
B.prototype.constructor = B; //Modify the constructor of the B prototype
```

### 4. Prototype inheritance (es5 implementation of Object.create), the object passed in as the prototype of the created object.

```
function createObj(o){
    function A(){}
    A.prototype = o;
    return new A();
}
```

### 5. Parasitic inheritance

```
function createObj (o) {
    let clone = Object.create(o);
    clone.sayName = function () {
        console.log('hi');
    }
    return clone;
}
```

### 6. Combinatorial parasitic inheritance

```
function A () {}
function B () {
    A.call(this);
}
B.prototype = createObj(A.prototype);
B.prototype.constructor = B;

```

