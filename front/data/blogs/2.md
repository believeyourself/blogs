<!--
 * @Date: 2021-12-27 14:41:11
 * @LastEditors: lzj
 * @LastEditTime: 2022-01-22 09:33:47
 * @FilePath: \qianduan.shop\front\data\blogs\2.md
-->
# react in the implementation of markdown file reading display

     Recently, I'm doing a pure front-end blog, and I need to display the content of the markdown file on the page.

## 1. Parse the file with webpack's remark-loader, other loaders can also be used (markdown-loader, etc.)
The webpack configuration is as follows.
````
module.exports = {
  // ...
  module: {
    rules: [
      {
        test: /\.md$/,
        use: [
          {
            loader: "html-loader",
          },
          {
            loader: "remark-loader",
          },
        ],
      },
    ],
  },
};
```
you can use import to introduce the md file in the code after configuration.

Note: If you use ts, import md from "module.md" will indicate that the module is not recognized and you need to add the following type declaration.
```
declare module "*.md" {
  const content: string;
  export default content;
}
```
This will parse the md file normally.

For more details on remark-loader configuration, please see: https://webpack.js.org/loaders/remark-loader/#usage

## 2. Converting file content to html
My requirement is to convert md to html, so the first step can only apply md content normally, but cannot display it directly, so we need to use the plugins of remark-loader to help us finish the conversion.
```
import RemarkHTML from "remark-html";

module.exports = {
  // ...
  module: {
    rules: [
      {
        test: /\.md$/,
        use: [
          {
            loader: "html-loader",
          },
          {
            loader: "remark-loader",
            options: {
              remarkOptions: {
                plugins: [RemarkHTML],
              },
            },
          },
        ],
      },
    ],
  },
};
```
This way you can get the content string converted to html directly by import md form "module.md".

## 3. Show in react
The code is as follows.
```
import React from "react";
import styles from ". /detail.less";
const content = require(`. /block.md`);

function BlogDetail (props:any) {
  return <div className={styles.content}>
    <article dangerouslySetInnerHTML={{ __html: content }}></article
  </div>;
}
```
export default BlogDetail;

## 4.Practical issues
### 4.1 You need to turn off webpack5 when using webpackChain in umi, otherwise the loader will report an error: this.getOptions is not a function
### 4.2 You don't have to use the loader to process the md file, you can also use a three-party library like marked to process the conversion


**markdown and JSX mixed use reference：<a href="https://qianduan.shop/blogs/detail/25" target="_blank">Parsing React components in md files using MDX</a>**