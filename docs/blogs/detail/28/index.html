<!--
 * @Date: 2022-01-20 14:27:07
 * @LastEditors: lzj
 * @LastEditTime: 2022-01-21 16:41:33
 * @FilePath: \qianduan.shop\front\src\pages\document.ejs
--><!DOCTYPE html><html><head><title data-react-helmet="true">AWS EC2 扩展 EBS 文件系统 - 前端网</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2087076429727327" crossorigin="anonymous"></script>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="/umi.css">
    <link rel="stylesheet" href="/layouts.chunk.css">
    <link rel="stylesheet" href="/p__blogs__detail__detail.chunk.css">
    <script>
      window.routerBase = "/";
    </script>
    <script>
      //! umi version: 3.5.18
    </script>
    <title>文章详情</title>
  <meta data-react-helmet="true" name="description" content="aws,EC2,磁盘,EBS,AWS EC2 磁盘空间不够用，常常被日志占满导致服务中断，此文记录 EC2 扩展 EBS 文件系统的操作步骤。"><meta data-react-helmet="true" name="keywords" content="aws,EC2,磁盘,EBS">
</head>

  <body>
    <div id="root"><header class="header___2_57M"><img alt="farmerLZJ" class="title___MhkPP" src="/static/logo.68ff92ec.png"/></header><div style="width:100%;position:relative;top:0;z-index:999"><nav class="nav___3wfA1"><a href="https://izejun.com/blogs" class="item___AqKVH active___1THnk">Blog</a></nav></div><div class="content___2QN8t"><div class="content___1G4Bw"><article><p>&lt;!--
 <em> @Date: 2021-12-08 15:13:55
 </em> @LastEditors: lzj
 <em> @LastEditTime: 2021-12-08 15:13:56
 </em> @FilePath: \qianduan.shop\data\blogs\28.md
--&gt;</p>

<h1>AWS EC2 如何扩展 EBS 磁盘</h1>

<p>最近又开始使用 AWS 的 EC2,在选取 EC2 配置的时候磁盘配置大小默认选用的最小的 8G ,后期大小不够用了就需要扩展磁盘大小。</p>

<h2>1.在原有磁盘的基础上扩展</h2>

<p>① 在 web 控制台找到要处理的 EC2 机器的 EBS 磁盘，根据实际需要修改 EBS 磁盘的 大小, IOPS 和吞吐量，这个比较简单，不细说，都是管理后台的界面操作。</p>

<p>② ssh 远程登录 EC2。</p>

<p>③ 查看当前的磁盘文件系统大小：</p>

<p><code>
[ec2-user ~]$ df -hT
Filesystem    Type  Size  Used  Avail Use% Mounted on
/dev/xvda1     xfs   8G   1.5G   6.5G  16%  /
... //省略其他
</code></p>

<p>④ 使用 lsblk 命令显示有关附加到 EC2 实例的 xvda 块储存设备的信息。</p>

<p><code></code>`
[ec2-user ~]$ lsblk
NAME    MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
xvda    202:0    0  16G  0 disk 
└─xvda1 202:1    0  8G  0 part /</p>

<p><code></code>`</p>

<p>这个例子输出显示以下内容：</p>

<p>根卷 /dev/xvda 具有一个分区 /dev/xvda1。根卷大小为大小 16 GB，分区的大小为大小 8 GB，可以对分区进行扩展。</p>

<p>⑤ 使用 growpart 命令扩展分区，注意设备名称（/dev/xvda1）和分区编号（1）之间有空格。</p>

<p><code></code>`
[ec2-user ~]$ sudo growpart /dev/xvda1 1</p>

<p><code></code>`</p>

<p>⑥ 在此使用 lsblk 命名验证扩展分区结果 </p>

<p><code></code>`
[ec2-user ~]$ lsblk
NAME    MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
xvda    202:0    0  16G  0 disk 
└─xvda1 202:1    0  16G  0 part /</p>

<p><code></code>`</p>

<p>⑧ XFS 卷使用 xfs_growfs 扩展文件系统</p>

<p><code>
[ec2-user ~]$ sudo xfs_growfs -d /
</code></p>

<p>如果尚未安装 XFS 工具，可以按如下方式安装。</p>

<p><code>
[ec2-user ~]$ sudo yum install xfsprogs
</code></p>

<p>⑨ 使用 df -h 命令使用 df -h 命令验证文件系统的大小，扩展 ESB 完成。</p>

<p><code>
[ec2-user ~]$ df -hT
Filesystem    Type  Size  Used  Avail Use% Mounted on
/dev/xvda1     xfs   16G   1.5G   14.5G  10%  /
... //省略其他
</code></p></article><div><span class="ant-tag ant-tag-geekblue">#<span>aws</span></span><span class="ant-tag ant-tag-volcano">#<span>EC2</span></span><span class="ant-tag ant-tag-error">#<span>磁盘</span></span><span class="ant-tag ant-tag-success">#<span>EBS</span></span></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><ins class=" adsbygoogle" style="display:block;text-align:center;width:100%;height:90px" data-ad-client="ca-pub-2087076429727327" data-ad-slot="9331479126" data-ad-layout="" data-ad-layout-key="" data-ad-format="auto" data-full-width-responsive="false"></ins></div><div class="container___8WoUM"><p class="title___3k8xL">Online Tools</p><div class="tool_tags___1ccK5"><span class="ant-tag ant-tag-blue tool_tag___1JT6M">JSON Formater</span><span class="ant-tag ant-tag-cyan tool_tag___1JT6M">MD5</span><span class="ant-tag ant-tag-error tool_tag___1JT6M">timestamps</span><span class="ant-tag ant-tag-green tool_tag___1JT6M">Cron Expresstion</span></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><div style="text-align:center;height:300px"><ins class=" adsbygoogle" style="display:inline-block;width:250px;height:300px" data-ad-client="ca-pub-2087076429727327" data-ad-slot="7022357395" data-ad-layout="" data-ad-layout-key="" data-ad-format="auto" data-full-width-responsive="false"></ins></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><div style="text-align:center;height:300px"><ins class=" adsbygoogle" style="display:inline-block;width:250px;height:300px" data-ad-client="ca-pub-2087076429727327" data-ad-slot="7022357395" data-ad-layout="" data-ad-layout-key="" data-ad-format="auto" data-full-width-responsive="false"></ins></div></div></div><footer class="footer___3wR6c">©2021 farmerlzj 提供技术支持 | 联系我们：farmerlzj@163.com |<!-- --> <a href="https://beian.miit.gov.cn/" rel="nofollow" target="_blank">蜀ICP备2021025378号-1</a></footer><div class="ant-back-top"></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="https://cloud.qianduan.shop/react.min.js"></script>
    <script src="https://cloud.qianduan.shop/react-dom.min.js"></script>
    <script src="/umi.js"></script>
    <script src="/layouts.js"></script>
    <script src="/p__blogs__detail__detail.js"></script>
  

</body></html>