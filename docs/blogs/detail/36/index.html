<!DOCTYPE html><html><head><title data-react-helmet="true">Doris 用户操作语句速览 - 前端网</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta name="baidu-site-verification" content="code-TlaecuFEx5">
    <meta name="sogou_site_verification" content="wMb3kHjFi6">
    <meta name="shenma-site-verification" content="19dfe33fcd6f20294164ba6738d0e102_1634534936">
    <meta name="360-site-verification" content="e943e2d7714355d2d1af8f36b12c41f9">
    <meta name="baidu_union_verify" content="6f7381d4136832e99f86da0d67739a46">
    <meta name="bytedance-verification-code" content="d+FL9L0/4KxPwFbqXgmT">

    <!-- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2087076429727327"
    crossOrigin="anonymous"></script> -->
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="/umi.css">
    <link rel="stylesheet" href="/layouts.chunk.css">
    <link rel="stylesheet" href="/p__blogs__detail__detail.chunk.css">
    <script>
      window.routerBase = "/";
    </script>
    <script>
      //! umi version: 3.5.18
    </script>
    <title>文章详情</title>
  <meta data-react-helmet="true" name="description" content="前端网,Doris,操作手册,Doris 常用 SQL 语句快速浏览，记录常用SQL，方便阅读查询。"><meta data-react-helmet="true" name="keywords" content="前端网,Doris,操作手册">
</head>

  <body>
    <div id="root"><header class="header___2_57M"><img alt="farmerLZJ" class="title___MhkPP" src="/static/logo.68ff92ec.png"/></header><div style="width:100%;position:relative;top:0;z-index:999"><nav class="nav___3wfA1"><a href="https://izejun.com/blogs" class="item___AqKVH active___1THnk">博客</a></nav></div><div class="content___2QN8t"><div class="content___1G4Bw"><header><a href="https://izejun.com/" class="back___26SyS undefined"> <!-- -->首页</a> <!-- -->/<a href="https://izejun.com/blogs" class="back___26SyS undefined"> <!-- -->博客</a></header><article><h1>Doris 用户操作语句速览</h1>

<p>Doris 常用 SQL 语句快速浏览，记录常用SQL，方便阅读查询，命令记录还不完整，后续会持续更新。</p>

<p>关于各命令的详细参数参考&lt;a href=&quot;https://doris.apache.org/master/zh-CN/installing/compilation.html&quot; target=&quot;_blank&quot; ref=&quot;nofollow&quot;&gt;官网&lt;/a&gt;.</p>

<h2>连接 Fe</h2>

<p>使用mysql client</p>

<p><code>
mysql -h FE_HOST -P9030 -uroot
</code></p>

<h2>用户操作</h2>

<p>1.创建用户
<code>
CREATE USER &#39;test&#39; IDENTIFIED BY &#39;test_passwd&#39;;
</code></p>

<p>2.删除用户</p>

<p>3.用户授权</p>

<p><code>
GRANT ALL ON database TO user;
</code>
4.修改用户密码</p>

<p><code>
SET PASSWORD FOR &#39;root&#39; = PASSWORD(&#39;your_password&#39;);
</code></p>

<h2>库操作</h2>

<p>1.建库</p>

<p><code>
CREATE DATABASE db_name;
</code></p>

<p>2.选中库</p>

<p><code>
USE db_name;
</code></p>

<p>3.删除库</p>

<p><code>
DROP DATABASE db_name
</code></p>

<p>4.查看库</p>

<p><code>
SHOW DATABASES;
</code></p>

<h2>表操作</h2>

<p>1.建表</p>

<p><code></code>`
CREATE TABLE table2
(
    event<em>day DATE,
    siteid INT DEFAULT &#39;10&#39;,
    citycode SMALLINT,
    username VARCHAR(32) DEFAULT &#39;&#39;,
    pv BIGINT SUM DEFAULT &#39;0&#39;
)
AGGREGATE KEY(event</em>day, siteid, citycode, username)
PARTITION BY RANGE(event<em>day)
(
    PARTITION p201706 VALUES LESS THAN (&#39;2017-07-01&#39;),
    PARTITION p201707 VALUES LESS THAN (&#39;2017-08-01&#39;),
    PARTITION p201708 VALUES LESS THAN (&#39;2017-09-01&#39;)
)
DISTRIBUTED BY HASH(siteid) BUCKETS 10
PROPERTIES(&quot;replication</em>num&quot; = &quot;1&quot;);</p>

<p><code></code>`</p>

<p>2.删除表</p>

<p><code>
DROP TABLE table_name;
</code></p>

<p>3.替换表</p>

<p><code>
ALTER TABLE table_1 REPLACE WITH TABLE table_2 PROPERTIES(&#39;swap&#39; = &#39;false&#39;);
</code></p>

<p>4.查看partition</p>

<p><code>
SHOW PARTITIONS FROM Didabu.log_event;
</code></p>

<p>5.增加列</p>

<p><code>
ALTER TABLE db_name.table_name ADD COLUMN column_name bigint(20) default &quot;0&quot;;
</code></p>

<p>6.删除列</p>

<p><code>
ALTER TABLE db_name.table_name DROP COLUMN column_name;
</code></p>

<p>7.查看表结构及rolluop、物化视图</p>

<p><code>
desc Didabu.test all
</code></p>

<h2>Rollup</h2>

<p>1.创建</p>

<p><code>
ALTER TABLE db_name.table_name ADD ROLLUP rollup_name(field_1,field_2,...);
</code></p>

<p>2.删除</p>

<p>3.查看</p>

<p><code>
SHOW ALTER TABLE ROLLUP FROM db_name;
</code></p>

<h2>物化视图</h2>

<p>1.创建</p>

<p><code>
CREATE MATERIALIZED VIEW mv_name AS SELECT field_1, sum(field_2) FROM table_name GROUP BY field_1;
</code></p>

<p>2.删除</p>

<p><code>
DROP MATERIALIZED VIEW mv_name ON db_name.table_name;
</code></p>

<p>3.查看</p>

<p><code>
SHOW ALTER TABLE MATERIALIZED VIEW FROM db_name;
</code></p>

<h2>be 相关操作</h2>

<p>1.添加 be</p>

<p><code>
ALTER SYSTEM ADD BACKEND &quot;172.31.43.204:9050&quot;;
</code></p>

<p>2.删除 be</p>

<p>强制删除
<code>
ALTER SYSTEM DROPP BACKEND &quot;172.31.43.204:9050&quot;;
</code></p>

<p>3.查看 be</p>

<p><code>
SHOW backends;
</code></p>

<h2>其他操作</h2></article><div><span class="ant-tag ant-tag-geekblue">#<span>Doris</span></span><span class="ant-tag ant-tag-volcano">#<span>操作手册</span></span></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><ins class=" adsbygoogle" style="display:block;text-align:center;width:100%;height:90px" data-ad-client="ca-pub-2087076429727327" data-ad-slot="9331479126" data-ad-layout="" data-ad-layout-key="" data-ad-format="auto" data-full-width-responsive="false"></ins></div><div class="container___8WoUM"><p class="title___3k8xL">Online Tools</p><div class="tool_tags___1ccK5"><span class="ant-tag ant-tag-blue tool_tag___1JT6M">JSON Formater</span><span class="ant-tag ant-tag-cyan tool_tag___1JT6M">MD5</span><span class="ant-tag ant-tag-error tool_tag___1JT6M">timestamps</span><span class="ant-tag ant-tag-green tool_tag___1JT6M">Cron Expresstion</span></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><div style="text-align:center;height:300px"><ins class=" adsbygoogle" style="display:inline-block;width:250px;height:300px" data-ad-client="ca-pub-2087076429727327" data-ad-slot="7022357395" data-ad-layout="" data-ad-layout-key="" data-ad-format="auto" data-full-width-responsive="false"></ins></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><div style="text-align:center;height:300px"><ins class=" adsbygoogle" style="display:inline-block;width:250px;height:300px" data-ad-client="ca-pub-2087076429727327" data-ad-slot="7022357395" data-ad-layout="" data-ad-layout-key="" data-ad-format="auto" data-full-width-responsive="false"></ins></div></div></div><footer class="footer___3wR6c">©2021 farmerlzj 提供技术支持 | 联系我们：farmerlzj@163.com |<!-- --> <a href="https://beian.miit.gov.cn/" rel="nofollow" target="_blank">蜀ICP备2021025378号-1</a></footer><div class="ant-back-top"></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="https://cloud.qianduan.shop/react.min.js"></script>
    <script src="https://cloud.qianduan.shop/react-dom.min.js"></script>
    <script src="/umi.js"></script>
    <script src="/layouts.js"></script>
    <script src="/p__blogs__detail__detail.js"></script>
  

</body></html>