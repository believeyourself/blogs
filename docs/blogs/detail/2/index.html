<!--
 * @Date: 2022-01-20 14:27:07
 * @LastEditors: lzj
 * @LastEditTime: 2022-01-21 16:41:33
 * @FilePath: \qianduan.shop\front\src\pages\document.ejs
--><!DOCTYPE html><html><head><title data-react-helmet="true">Read and display markdown files in react - 前端网</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2087076429727327" crossorigin="anonymous"></script>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="/umi.css">
    <link rel="stylesheet" href="/layouts.chunk.css">
    <link rel="stylesheet" href="/p__blogs__detail__detail.chunk.css">
    <script>
      window.routerBase = "/";
    </script>
    <script>
      //! umi version: 3.5.18
    </script>
    <title>文章详情</title>
  <meta data-react-helmet="true" name="description" content="react,markdown,Read and display markdown files in react"><meta data-react-helmet="true" name="keywords" content="react,markdown">
</head>

  <body>
    <div id="root"><header class="header___2_57M"><img alt="farmerLZJ" class="title___MhkPP" src="/static/logo.68ff92ec.png"/></header><div style="width:100%;position:relative;top:0;z-index:999"><nav class="nav___3wfA1"><a href="https://izejun.com/blogs" class="item___AqKVH active___1THnk">Blog</a></nav></div><div class="content___2QN8t"><div class="content___1G4Bw"><article><h1>react in the implementation of markdown file reading display</h1>

<p>     Recently, I&#39;m doing a pure front-end blog, and I need to display the content of the markdown file on the page.</p>

<h2>1. Parse the file with webpack&#39;s remark-loader, other loaders can also be used (markdown-loader, etc.)</h2>

<p>The webpack configuration is as follows.
<code>`
module.exports = {
  // ...
  module: {
    rules: [
      {
        test: /\.md$/,
        use: [
          {
            loader: &quot;html-loader&quot;,
          },
          {
            loader: &quot;remark-loader&quot;,
          },
        ],
      },
    ],
  },
};
</code>
you can use import to introduce the md file in the code after configuration.</p>

<p>Note: If you use ts, import md from &quot;module.md&quot; will indicate that the module is not recognized and you need to add the following type declaration.
<code>
declare module &quot;*.md&quot; {
  const content: string;
  export default content;
}
</code>
This will parse the md file normally.</p>

<p>For more details on remark-loader configuration, please see: https://webpack.js.org/loaders/remark-loader/#usage</p>

<h2>2. Converting file content to html</h2>

<p>My requirement is to convert md to html, so the first step can only apply md content normally, but cannot display it directly, so we need to use the plugins of remark-loader to help us finish the conversion.
<code></code>`
import RemarkHTML from &quot;remark-html&quot;;</p>

<p>module.exports = {
  // ...
  module: {
    rules: [
      {
        test: /.md$/,
        use: [
          {
            loader: &quot;html-loader&quot;,
          },
          {
            loader: &quot;remark-loader&quot;,
            options: {
              remarkOptions: {
                plugins: [RemarkHTML],
              },
            },
          },
        ],
      },
    ],
  },
};
<code></code>`
This way you can get the content string converted to html directly by import md form &quot;module.md&quot;.</p>

<h2>3. Show in react</h2>

<p>The code is as follows.
<code></code><code>
import React from &quot;react&quot;;
import styles from &quot;. /detail.less&quot;;
const content = require(</code>. /block.md`);</p>

<p>function BlogDetail (props:any) {
  return &lt;div className={styles.content}&gt;
    &lt;article dangerouslySetInnerHTML={{ __html: content }}&gt;&lt;/article
  &lt;/div&gt;;
}
<code></code>`
export default BlogDetail;</p>

<h2>4.Practical issues</h2>

<h3>4.1 You need to turn off webpack5 when using webpackChain in umi, otherwise the loader will report an error: this.getOptions is not a function</h3>

<h3>4.2 You don&#39;t have to use the loader to process the md file, you can also use a three-party library like marked to process the conversion</h3>

<p><strong>markdown and JSX mixed use reference：&lt;a href=&quot;https://qianduan.shop/blogs/detail/25&quot; target=&quot;_blank&quot;&gt;Parsing React components in md files using MDX&lt;/a&gt;</strong></p></article><div><span class="ant-tag ant-tag-geekblue">#<span>react</span></span><span class="ant-tag ant-tag-volcano">#<span>markdown</span></span></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><ins class=" adsbygoogle" style="display:block;text-align:center;width:100%;height:90px" data-ad-client="ca-pub-2087076429727327" data-ad-slot="9331479126" data-ad-layout="" data-ad-layout-key="" data-ad-format="auto" data-full-width-responsive="false"></ins></div><div class="container___8WoUM"><div class="ant-divider ant-divider-horizontal" role="separator"></div><div style="text-align:center;height:300px"><ins class=" adsbygoogle" style="display:inline-block;width:250px;height:300px" data-ad-client="ca-pub-2087076429727327" data-ad-slot="7022357395" data-ad-layout="" data-ad-layout-key="" data-ad-format="auto" data-full-width-responsive="false"></ins></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><div style="text-align:center;height:300px"><ins class=" adsbygoogle" style="display:inline-block;width:250px;height:300px" data-ad-client="ca-pub-2087076429727327" data-ad-slot="7022357395" data-ad-layout="" data-ad-layout-key="" data-ad-format="auto" data-full-width-responsive="false"></ins></div></div></div><div class="ant-back-top"></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="https://cloud.qianduan.shop/react.min.js"></script>
    <script src="https://cloud.qianduan.shop/react-dom.min.js"></script>
    <script src="/umi.js"></script>
    <script src="/layouts.js"></script>
    <script src="/p__blogs__detail__detail.js"></script>
  

</body></html>