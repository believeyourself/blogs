<!--
 * @Date: 2022-01-20 14:27:07
 * @LastEditors: lzj
 * @LastEditTime: 2022-01-21 16:41:33
 * @FilePath: \qianduan.shop\front\src\pages\document.ejs
--><!DOCTYPE html><html><head><title data-react-helmet="true">react中实现markdown文件读取展示 - 前端网</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2087076429727327" crossorigin="anonymous"></script>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="/umi.css">
    <link rel="stylesheet" href="/layouts.chunk.css">
    <link rel="stylesheet" href="/p__blogs__detail__detail.chunk.css">
    <script>
      window.routerBase = "/";
    </script>
    <script>
      //! umi version: 3.5.18
    </script>
    <title>文章详情</title>
  <meta data-react-helmet="true" name="description" content="react,markdown,react中实现markdown文件读取展示"><meta data-react-helmet="true" name="keywords" content="react,markdown">
</head>

  <body>
    <div id="root"><header class="header___2_57M"><img alt="farmerLZJ" class="title___MhkPP" src="/static/logo.68ff92ec.png"/></header><div style="width:100%;position:relative;top:0;z-index:999"><nav class="nav___3wfA1"><a href="https://izejun.com/blogs" class="item___AqKVH active___1THnk">Blog</a></nav></div><div class="content___2QN8t"><div class="content___1G4Bw"><article><h1>react中实现markdown文件读取展示</h1>

<p>     最近自己在做一个纯前端的的博客，需要将markdown的文件博客内容展示到页面，本文记录如何读取文件内容并将内容转为html展示。</p>

<h2>1.借助webpack的remark-loader解析文件,其它loader亦可以（markdown-loader等）</h2>

<p>webpack配置如下：
<code>
module.exports = {
  // ...
  module: {
    rules: [
      {
        test: /\.md$/,
        use: [
          {
            loader: &quot;html-loader&quot;,
          },
          {
            loader: &quot;remark-loader&quot;,
          },
        ],
      },
    ],
  },
};
</code>
配置后即可在代码中使用import 引入md文件；</p>

<p>注：如果使用了ts，import md from &quot;module.md&quot;会提示无法识别模块，需要增加类型声明：
<code>
declare module &quot;*.md&quot; {
  const content: string;
  export default content;
}
</code>
如此即可正常解析md文件.</p>

<p>更多remark-loader配置详见: https://webpack.js.org/loaders/remark-loader/#usage</p>

<h2>2.将文件内容转换为html</h2>

<p>我的需求是将md转换为html,所以完成第一步只能正常应用md内容，无法直接显示，所以我们需要借助remark-loader的plugins帮助我们完成转换，这里我们用到了remark-html插件，配置代码如下：
<code></code>`
import RemarkHTML from &quot;remark-html&quot;;</p>

<p>module.exports = {
  // ...
  module: {
    rules: [
      {
        test: /.md$/,
        use: [
          {
            loader: &quot;html-loader&quot;,
          },
          {
            loader: &quot;remark-loader&quot;,
            options: {
              remarkOptions: {
                plugins: [RemarkHTML],
              },
            },
          },
        ],
      },
    ],
  },
};
<code></code>`
这样就能直接通过 import md form &quot;module.md&quot;拿到转换为html的内容字符串。</p>

<h2>3.在react中展示</h2>

<p>代码如下：
<code></code><code>
import React from &quot;react&quot;;
import styles from &quot;./detail.less&quot;;
const content = require(</code>./block.md`);</p>

<p>function BlogDetail (props:any) {
  return &lt;div className={styles.content}&gt;
    &lt;article dangerouslySetInnerHTML={{ __html: content  }}&gt;&lt;/article&gt;
  &lt;/div&gt;;
}
<code></code>`
export default BlogDetail;</p>

<h2>4.实践问题</h2>

<h3>4.1 umi中通过webpackChain使用时需要关闭webpack5,否则loader会报错：this.getOptions is not a function</h3>

<h3>4.2 不一定非得使用loader处理md文件，也可以使用marked等三方库处理转换</h3>

<p>完成。。。。。。。。。</p>

<p><strong>markdown与JSX混合使用参考：&lt;a href=&quot;https://qianduan.shop/blogs/detail/25&quot; target=&quot;_blank&quot;&gt;使用 MDX 在 md 文件中解析React组件&lt;/a&gt;</strong>
​</p></article><div><span class="ant-tag ant-tag-geekblue">#<span>react</span></span><span class="ant-tag ant-tag-volcano">#<span>markdown</span></span></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><ins class=" adsbygoogle" style="display:block;text-align:center;width:100%;height:90px" data-ad-client="ca-pub-2087076429727327" data-ad-slot="9331479126" data-ad-layout="" data-ad-layout-key="" data-ad-format="auto" data-full-width-responsive="false"></ins></div><div class="container___8WoUM"><p class="title___3k8xL">Online Tools</p><div class="tool_tags___1ccK5"><span class="ant-tag ant-tag-blue tool_tag___1JT6M">JSON Formater</span><span class="ant-tag ant-tag-cyan tool_tag___1JT6M">MD5</span><span class="ant-tag ant-tag-error tool_tag___1JT6M">timestamps</span><span class="ant-tag ant-tag-green tool_tag___1JT6M">Cron Expresstion</span></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><div style="text-align:center;height:300px"><ins class=" adsbygoogle" style="display:inline-block;width:250px;height:300px" data-ad-client="ca-pub-2087076429727327" data-ad-slot="7022357395" data-ad-layout="" data-ad-layout-key="" data-ad-format="auto" data-full-width-responsive="false"></ins></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><div style="text-align:center;height:300px"><ins class=" adsbygoogle" style="display:inline-block;width:250px;height:300px" data-ad-client="ca-pub-2087076429727327" data-ad-slot="7022357395" data-ad-layout="" data-ad-layout-key="" data-ad-format="auto" data-full-width-responsive="false"></ins></div></div></div><footer class="footer___3wR6c">©2021 farmerlzj 提供技术支持 | 联系我们：farmerlzj@163.com |<!-- --> <a href="https://beian.miit.gov.cn/" rel="nofollow" target="_blank">蜀ICP备2021025378号-1</a></footer><div class="ant-back-top"></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="https://cloud.qianduan.shop/react.min.js"></script>
    <script src="https://cloud.qianduan.shop/react-dom.min.js"></script>
    <script src="/umi.js"></script>
    <script src="/layouts.js"></script>
    <script src="/p__blogs__detail__detail.js"></script>
  

</body></html>